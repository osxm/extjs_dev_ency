<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<meta name="author" content="Oscar Chen,https://oscar.blog.csdn.net/">
	<meta name="copyright" content="© 2023 ,Oscar Chen">
	<title>Tree进阶使用</title>
	<script type="text/javascript" src="../ext/ext-all-debug.js"></script>
	<link href="../../classic/resources/ExtjsdevEncy-all.css" rel="stylesheet" type="text/css" />
	<style>
		.my-node-red{
			color: red;
		}
		.my-node-blue{
			color: blue;
		}
	</style>
	<script>
	//类型定义
	</script>

	<script>
		//执行脚本
		Ext.onReady(function () {
			Ext.create('Ext.tree.Panel', {
				title: '动态改变树节点的字体颜色',
				rootVisible: false,
				renderTo: 'div1',
				store: Ext.create('Ext.data.TreeStore', {
					root: {
						expanded: true,
						children: [{
							text: '蜀国',
							expanded: true,
							children: [{
								"text": "刘备",
								"leaf": true
							}, {
								"text": "关羽",
								"leaf": true
							}, {
								"text": "张飞",
								"leaf": true
							}]
						}]
					}
				}),
				bbar: [{
					text: '点击改变树节点的字体颜色为红色',
					handler: function(btn){
						var treePanel = btn.findParentByType('treepanel');
						treePanel.getRootNode().cascade({after:function(n){
							if(treePanel.getView()!=null&&treePanel.getView().getNode(n)!=null){
								treePanel.getView().getNode(n).className= 'x-grid-item my-node-red';
							}
						}});
					}
				},{
					text: '点击改变树节点的字体颜色为蓝色',
					handler: function(btn){
						var treePanel = btn.findParentByType('treepanel');
						treePanel.getRootNode().cascade({after:function(n){
							if(treePanel.getView()!=null&&treePanel.getView().getNode(n)!=null){
								treePanel.getView().getNode(n).className= 'x-grid-item my-node-blue';
							}
						}});
					}
				},{
					text: '点击改变树节点的字体颜色为蓝色',
					handler: function(btn){
						var treePanel = btn.findParentByType('treepanel');
						treePanel.getRootNode().cascade({after:function(n){
							if(treePanel.getView()!=null&&treePanel.getView().getNode(n)!=null){
								treePanel.getView().getNode(n).style= 'color:blue';
							}
						}});
					}
				}]
			});
		});
	</script>

</head>

<body>
	<div id="div1"></div>
</body>

</html>